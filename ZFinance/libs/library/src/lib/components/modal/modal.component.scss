/* @use 'tailwindcss'; */

body.modal-active {
    overflow-x: hidden;
    overflow-y: visible !important;
}

:host {
    @apply fixed w-full h-full top-0 left-0 z-50;

    &:not(.show) {
        @apply opacity-0 pointer-events-none delay-150 transition-opacity;

        .modal-overlay {
            @apply opacity-0 delay-150;
        }

        .modal-container {
            &.top, &.center { 
                @apply -translate-y-14;
            }

            &.bottom { 
                @apply translate-y-14;
            }

            &.left { 
                @apply -translate-x-14;
            }

            &.right { 
                @apply translate-x-14;
            }

            .modal-content {
                @apply animate-[hidden_0s_ease-in-out_forwards];
            }
        }
    }
}

.modal-overlay {
    @apply fixed w-screen h-screen inset-0 bg-black opacity-50 transition-opacity duration-150;
}

.modal-container {        
    @apply grid grid-cols-1 min-h-full h-full max-h-screen m-auto p-7 duration-300 transition-transform;

    &.top {
        @apply items-start;
    }

    &.bottom {
        @apply items-end;
    }

    &.left {
        @apply items-center mr-0;
    }

    &.right {
        @apply items-center ml-0;
    }

    &.center {
        @apply items-center;
    }

    $sizes: 'sm', 'md', 'lg', 'xl', '2xl', '3xl', '4xl', '5xl', '6xl', '7xl', 'full';

    @each $size in $sizes {
        &.size-#{$size} {
            @apply #{'max-w-' + $size};
        }
    }

    &.size-auto {
        @apply container;
    }

    .modal-content {
        @apply relative w-full border border-black/20 rounded-md outline-0 bg-white bg-clip-padding;
        @apply grid grid-rows-[min-content_1fr_min-content] max-h-full overflow-hidden;
        @apply shadow-[0_0_4px_0_rgba(0,0,0,0.2),_0_3px_20px_0_rgba(0,0,0,0.19)];
        @apply animate-[shown_0.3s_ease-in-out_forwards];

        .modal-header {
            @apply p-4 border-b border-gray-300;

            .modal-close {
                @apply absolute top-0 right-0 cursor-pointer p-2 m-2 opacity-60;
            }
        }

        .modal-body {
            @apply p-4 overflow-hidden;
        }

        .modal-footer {
            @apply grid grid-flow-col auto-cols-min gap-1 justify-end whitespace-nowrap p-3 border-t border-gray-300;

            > *, ::ng-deep div[footer] > * {
                @apply grid grid-flow-col auto-cols-min gap-1;
            }
        }
    }
}

@keyframes hidden {
    from { display: flex;  }
    to { display: none; }
}

@keyframes shown {
    from { opacity: 0; }
    to {opacity: 1; }
}